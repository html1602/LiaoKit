<template>
  <div class="timeline-test">
    <h2>æ—¶é—´çº¿æ’ä»¶æµ‹è¯•</h2>
    
    <div class="test-section">
      <h3>åŸºç¡€æ—¶é—´çº¿</h3>
      <LiaoTimelinePlugin
        :plugin-data="timelineData"
        @action="handleAction"
      />
    </div>
    
    <div class="result-section" v-if="lastAction">
      <h3>æœ€åæ“ä½œç»“æœï¼š</h3>
      <pre>{{ JSON.stringify(lastAction, null, 2) }}</pre>
    </div>
  </div>
</template>

<script lang="ts" setup>
import { ref } from 'vue';
import LiaoTimelinePlugin from '../components/LiaoPlugins/LiaoTimelinePlugin.vue';

const lastAction = ref(null);

const timelineData = {
  title: 'ğŸšš è®¢å•ç‰©æµè·Ÿè¸ªæµ‹è¯•',
  items: [
    { 
      title: 'âœ… å·²ç­¾æ”¶', 
      content: 'æ‚¨çš„åŒ…è£¹å·²ç”±æœ¬äººç­¾æ”¶ï¼Œæ„Ÿè°¢æ‚¨çš„è´­ä¹°ï¼',
      time: '2025-06-11 16:23:45',
      status: 'success' as const,
      actions: [
        { text: 'æŸ¥çœ‹è¯¦æƒ…', action: 'view_detail' }
      ]
    },
    { 
      title: 'ğŸšš æ­£åœ¨æ´¾é€', 
      content: 'æ‚¨çš„åŒ…è£¹æ­£åœ¨æ´¾é€ä¸­ï¼Œå¿«é€’å‘˜ï¼šæå¸ˆå‚…',
      time: '2025-06-11 08:15:30',
      status: 'primary' as const,
      actions: [
        { text: 'è”ç³»å¿«é€’å‘˜', action: 'call_courier' }
      ]
    },
    { 
      title: 'ğŸ“¦ åˆ°è¾¾é…é€ç‚¹', 
      content: 'å¿«ä»¶å·²åˆ°è¾¾é…é€ä¸­å¿ƒ',
      time: '2025-06-10 22:45:12',
      status: 'default' as const
    }
  ],
  showMore: true,
  loadMoreText: 'æŸ¥çœ‹æ›´å¤š'
};

const handleAction = (action: any) => {
  console.log('æ—¶é—´çº¿æ“ä½œ:', action);
  lastAction.value = action;
};
</script>

<style scoped>
.timeline-test {
  max-width: 600px;
  margin: 20px auto;
  padding: 20px;
}

.test-section {
  margin-bottom: 30px;
}

.result-section {
  background: #f5f5f5;
  padding: 15px;
  border-radius: 8px;
}

pre {
  background: #fff;
  padding: 10px;
  border-radius: 4px;
  overflow-x: auto;
}
</style> 